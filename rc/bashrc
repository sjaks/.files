# .--.
# |__| .--------.
# |=.| |.------.|
# |--| || BASH ||
# |  | |'------'|
# |__|~')______('
#
# My .bashrc file.
# Mostly just aliases, colors and a nice PS1.
#
# sjaks@github


# If not running interactively, don't do anything
case $- in
	*i*) ;;
	*) return;;
esac


# Enable color support for ls, grep, cat, tail and gcc. For instance,
# directories can be told apart from regular files more easily since
# they are colored blue. Grep will also use color to highlight certain
# parts of the output.
if [ -x /usr/bin/dircolors ]; then
	test -r ~/.dircolors && eval "$(dircolors -b ~/.dircolors)" || eval "$(dircolors -b)"
	alias ls='ls --color=auto'
	alias grep='grep --color=auto'
	alias fgrep='fgrep --color=auto'
	alias egrep='egrep --color=auto'
	tailc () { tail $@ | ccze -A ; }
	catc () { cat $@ | ccze -A ; }
fi

export GCC_COLORS='error=01;31:warning=01;35:note=01;36:caret=01;32:locus=01:quote=01'


# Set history settings
HISTCONTROL=ignoreboth
shopt -s histappend
HISTSIZE=1000
HISTFILESIZE=2000


# Check the window size after each command and, if necessary,
# update the values of LINES and COLUMNS.
shopt -s checkwinsize


# Clear temporary files. Removes some common
# cache and temp locations.
clear_cache () {
	rm -rf /home/sami/.cache/*
	rm /home/sami/.bash_history
	rm /home/sami/.python_history
	rm /home/sami/.viminfo
	rm /home/sami/.wget-hsts
	rm /home/sami/.gnuplot_history
	rm /home/sami/.node_repl_history
	rm /home/sami/.php_history
}


# Do basic maintenance to system. Syncs repos,
# updates packages, removes some totally unnecessary
# temp files and moves Downloads and screenshots to trash.
daily () {
	sudo apt update
	sudo apt -y upgrade
	clear_cache
	mv /home/sami/Downloads/* /home/sami/.local/share/Trash/files
	mv /home/sami/Pictures/Screenshot* /home/sami/.local/share/Trash/files
	sudo apt -y autoremove
}


# Custom aliases
alias ll='echo && ls -al | wc -l && echo && ls -alFh --group-directories-first'
alias neofetch='neofetch --ascii_distro GNU'
alias getpass='openssl rand -base64 18'
alias gitt='git log --oneline --all --graph'
alias octave='cd ~/Documents && octave'
alias curll='curl -IL'
alias digg='dig ANY +noall +answer'
alias digfi='dig +short all @a.fi'
alias myip='curl ipinfo.io/ip'
alias dir='explorer.exe'
alias sus='sudo -E su'
alias c='clear'
alias sersync="find * | entr rsync -avz -e 'ssh -q' * wp:/data/wordpress/htdocs/wp-content/mu-plugins/seravo-plugin/"


# Bash completion
if ! shopt -oq posix; then
  if [ -f /usr/share/bash-completion/bash_completion ]; then
    . /usr/share/bash-completion/bash_completion
  elif [ -f /etc/bash_completion ]; then
    . /etc/bash_completion
  fi
fi


# Load LiquidPrompt
echo $- | grep -q i 2>/dev/null && . /usr/share/liquidprompt/liquidprompt
